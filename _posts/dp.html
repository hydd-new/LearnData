<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta property="og:url" content="https://newzone.top/_posts/dp.html"><meta property="og:site_name" content="LearnData-开源笔记"><meta property="og:title" content="dp"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-08-27T07:01:51.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="dp"><meta property="article:published_time" content="2022-01-12T10:17:25.000Z"><meta property="article:modified_time" content="2022-08-27T07:01:51.000Z"><title>dp | LearnData-开源笔记</title><meta name="description" content="开源工具、效率方法、心理学探索的自我提升笔记，记录并输出一切能让自己提升的知识。">
    <meta name="keywords" content="自我提升,效率提升,开源工具,学习笔记" />
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.65a328d2.css">
    <link rel="modulepreload" href="/assets/app.e99e8fad.js"><link rel="modulepreload" href="/assets/dp.html.d2574d6c.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/dp.html.2c77a611.js">
    <!-- Matomo 此区块为统计代码，请删除-->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://piwik.seoipo.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '7']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code 此区块为统计代码，请删除-->
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="LearnData-开源笔记"><!----><span class="site-name hide-in-pad">LearnData-开源笔记</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/blog.html" class="nav-link" aria-label="博客"><span class="icon iconfont icon-blog"></span>博客<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="代码"><span class="title"><span class="icon iconfont icon-code"></span>代码</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/code/Markdown.html" class="nav-link" aria-label="Markdown"><span class="icon iconfont icon-markdown"></span>Markdown<!----></a></li><li class="dropdown-item"><a href="/code/AutoHotKey.html" class="nav-link" aria-label="AutoHotKey"><span class="icon iconfont icon-linter"></span>AutoHotKey<!----></a></li><li class="dropdown-item"><a href="/code/Electron.html" class="nav-link" aria-label="Electron"><span class="icon iconfont icon-layout"></span>Electron<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>页面开发</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/VuePress.html" class="nav-link" aria-label="VuePress"><span class="icon iconfont icon-vue"></span>VuePress<!----></a></li><li class="dropdown-subitem"><a href="/web/docsify.html" class="nav-link" aria-label="docsify"><span class="icon iconfont icon-edit"></span>docsify<!----></a></li><li class="dropdown-subitem"><a href="/deploy/VPS.html" class="nav-link" aria-label="服务器 VPS"><span class="icon iconfont icon-IO"></span>服务器 VPS<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="应用"><span class="title"><span class="icon iconfont icon-app"></span>应用</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/apps/Applist.html" class="nav-link" aria-label="必备应用"><span class="icon iconfont icon-list"></span>必备应用<!----></a></li><li class="dropdown-item"><a href="/apps/AppNotes.html" class="nav-link" aria-label="应用笔记"><span class="icon iconfont icon-plugin"></span>应用笔记<!----></a></li><li class="dropdown-item"><a href="/apps/Chrome.html" class="nav-link" aria-label="Chrome 扩展"><span class="icon iconfont icon-chrome"></span>Chrome 扩展<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>服务/系统</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/services/NAS.html" class="nav-link" aria-label="NAS"><span class="icon iconfont icon-process"></span>NAS<!----></a></li><li class="dropdown-subitem"><a href="/windows/faq.html" class="nav-link" aria-label="Windows"><span class="icon iconfont icon-windows"></span>Windows<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="生活"><span class="title"><span class="icon iconfont icon-emmet"></span>生活</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/family/Diet.html" class="nav-link" aria-label="健康饮食"><span class="icon iconfont icon-enum"></span>健康饮食<!----></a></li><li class="dropdown-item"><a href="/family/Shoppinglist.html" class="nav-link" aria-label="购物清单"><span class="icon iconfont icon-info"></span>购物清单<!----></a></li><li class="dropdown-item"><a href="/family/Coupon.html" class="nav-link" aria-label="网购攻略"><span class="icon iconfont icon-free"></span>网购攻略<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://nav.newzone.top/" rel="noopener noreferrer" target="_blank" aria-label="工具收藏" class="nav-link"><span class="icon iconfont icon-tool"></span>工具收藏<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><div class="nav-item"><a class="repo-link" href="https://github.com/rockbenben/LearnData" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/DailyRoutine.html" class="nav-link sidebar-link sidebar-page" aria-label="每日作息"><span class="icon iconfont icon-check"></span>每日作息<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Fitness.html" class="nav-link sidebar-link sidebar-page" aria-label="健身计划"><span class="icon iconfont icon-strong"></span>健身计划<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Read.html" class="nav-link sidebar-link sidebar-page" aria-label="读书方法"><span class="icon iconfont icon-read"></span>读书方法<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🚀 代码</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🧰 软件应用</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🌐 页面开发</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🏗️ 网站部署</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐋 Linux 服务</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🪟 系统问题</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🛖 生活</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-blog"></span><a href="/blog.html" class="title">博客文章</a><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/_posts/210110.html" class="nav-link sidebar-link sidebar-page" aria-label="/_posts/210110.md"><!---->/_posts/210110.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/dominator_tree.html" class="nav-link sidebar-link sidebar-page" aria-label="/_posts/dominator_tree.md"><!---->/_posts/dominator_tree.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/binary_search.html" class="nav-link sidebar-link sidebar-page" aria-label="binary_search"><!---->binary_search<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/CF1188D.html" class="nav-link sidebar-link sidebar-page" aria-label="CF1188D"><!---->CF1188D<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/CF1204D.html" class="nav-link sidebar-link sidebar-page" aria-label="CF1204D"><!---->CF1204D<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/CF1365F.html" class="nav-link sidebar-link sidebar-page" aria-label="CF1365F"><!---->CF1365F<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/CF1603E.html" class="nav-link sidebar-link sidebar-page" aria-label="CF1603E"><!---->CF1603E<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/CF555E.html" class="nav-link sidebar-link sidebar-page" aria-label="CF555E"><!---->CF555E<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/new-3.html" class="nav-link sidebar-link sidebar-page" aria-label="Codeforces 3"><!---->Codeforces 3<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/data_structures.html" class="nav-link sidebar-link sidebar-page" aria-label="data_structures"><!---->data_structures<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/_posts/dp.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="dp"><!---->dp<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/IOI2022.html" class="nav-link sidebar-link sidebar-page" aria-label="IOI2022 部分题解"><!---->IOI2022 部分题解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/min-25.html" class="nav-link sidebar-link sidebar-page" aria-label="min_25筛"><!---->min_25筛<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/NOIP21T3.html" class="nav-link sidebar-link sidebar-page" aria-label="NOIP2021 方差"><!---->NOIP2021 方差<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/remain.html" class="nav-link sidebar-link sidebar-page" aria-label="remain"><!---->remain<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/trees.html" class="nav-link sidebar-link sidebar-page" aria-label="trees"><!---->trees<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/UOJ681.html" class="nav-link sidebar-link sidebar-page" aria-label="UOJ681"><!---->UOJ681<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/UOJ682.html" class="nav-link sidebar-link sidebar-page" aria-label="UOJ682"><!---->UOJ682<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/games.html" class="nav-link sidebar-link sidebar-page" aria-label="博弈"><!---->博弈<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/_posts/greedy.html" class="nav-link sidebar-link sidebar-page" aria-label="贪心"><!---->贪心<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->dp</h1><div class="page-info"><!----><!----><span class="words-info" aria-label="字数🔠" data-balloon-pos="down" localizeddate="2022年1月12日" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 10600 字</span><meta property="wordCount" content="10600"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" localizeddate="2022年1月12日" isoriginal="false" pageview="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 35 分钟</span><meta property="timeRequired" content="PT35M"></span><span class="visitor-info" aria-label="访问量🔢" data-balloon-pos="down" localizeddate="2022年1月12日" isoriginal="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span class="waline-pageview-count" data-path="/_posts/dp.html">...</span></span></div><hr></div><!----><!----><div class="theme-hope-content"><h4 id="_1433f" tabindex="-1"><a class="header-anchor" href="#_1433f" aria-hidden="true">#</a> 1433F</h4><ul><li>求出一行选取不超过一半，$sum \bmod k=x$ 的和的最大值。记录 $dp[i][x]$ 表示到这一行第 $i$ 个，当前 $sum \bmod k=x$。转移考虑当前的数加不加，分别转移到 $dp[i+1][x],dp[i+1][(x+a[i])\bmod k]+a[i]$。</li><li>不同行合并就是直接每行循环 $\max$ 卷积起来，$x[i]+y[j]\rightarrow z[(i+j)\bmod k]$。</li></ul><h4 id="_1187e" tabindex="-1"><a class="header-anchor" href="#_1187e" aria-hidden="true">#</a> 1187E</h4><ul><li>明显只和第一次选的点有关，和其它的顺序无关。第一次选了点 $u$，令 $u$ 为根，最后的权值为所有点子树的 $size$ 之和。</li><li>换根的时候只会影响两个点的 $size$，维护 $size$ 之和即可。</li></ul><h4 id="_1486d" tabindex="-1"><a class="header-anchor" href="#_1486d" aria-hidden="true">#</a> 1486D</h4><ul><li>区间升序排序应该比较敏感，可以二分答案，假设中位数 $\geq x$。把 $\geq x$ 的位置变成 $1$，$\lt x$ 的位置变成 $-1$。</li><li>判断答案是否可行就是看是否有长度为 $k$ 的区间和 $\geq 0$（$\geq x$ 的数至少有一半）。</li></ul><h4 id="_519e" tabindex="-1"><a class="header-anchor" href="#_519e" aria-hidden="true">#</a> 519E</h4><ul><li>显然两点简单路径上只有中点是可行的，没有中点就没有可行点。</li><li>发现要到其它点一定先在路径上走，走到某个点再出去，而出去的路对于两个点是一样的。换而言之，只能是路径上离它最近的点是中点的点才行。</li><li>求出路径的中点，看它是不是 LCA。如果是，那么在所有点除去路径上相邻两点的子树的其它点都是可行的；如果不是，那么在它的子树除去路径上是它儿子的相邻点（相邻点一定一个是它父亲一个是它儿子）的子树的其它点是可行的。</li></ul><h4 id="_455c" tabindex="-1"><a class="header-anchor" href="#_455c" aria-hidden="true">#</a> 455C</h4><ul><li>根据经典结论，<strong>两棵树合并后的直径一定是原来直径端点两两距离的最大值</strong>。</li><li>为了长度最小，一定选两棵树直径中点连接，那么现在的直径长度就是第一棵树本身直径长度，第二棵树本身直径长度，两棵直径长度/2上取整之和的最大值。发现和端点没啥关系，只与长度有关，记录长度即可。</li><li>用并查集维护每个点所属连通块。</li></ul><h4 id="_165e" tabindex="-1"><a class="header-anchor" href="#_165e" aria-hidden="true">#</a> 165E</h4><ul><li>对于每个 $x$，相当于要求 $y\subseteq \neg x$</li><li>做高维前缀和求出所有 $\subseteq v$ 的数字是否出现，出现过的某个位置即可。</li></ul><h4 id="_319c" tabindex="-1"><a class="header-anchor" href="#_319c" aria-hidden="true">#</a> 319C</h4><ul><li>砍倒最后一棵树后其它树后其他树就都不需要代价了。</li><li>设 $dp[i]$ 表示砍倒第 $i$ 棵树的最小代价，那么 $dp[i]=\min{dp[j]+b[j]\times a[i]}$。</li><li>考虑 $x&lt;y$ 且 $x$ 比 $y$ 更优，移项可得 $\frac{dp[y]-dp[x]}{b[x]-b[y]}&gt;a[i]$，$i$ 越大，$a[i]$ 越大，越不容易满足，维护单调队列斜率优化即可。</li></ul><h4 id="_1393d" tabindex="-1"><a class="header-anchor" href="#_1393d" aria-hidden="true">#</a> 1393D</h4><ul><li>固定菱形的中心，发现要满足条件，距离它在半径内的所有点颜色都得相同。</li><li>对每个点求出最近的和它颜色不同的点的距离，可以bfs转移。</li></ul><h4 id="_628d" tabindex="-1"><a class="header-anchor" href="#_628d" aria-hidden="true">#</a> 628D</h4><ul><li>还是正常一样两个答案相减，不过可能 $l-1$ 直接少了1位，所以用 $solve(r)-solve(l)+ok(l)$。</li><li>solve的时候就不用考虑前导0了，直接奇数位偶数位都按照限制来，记一下到哪一位，现在 $\bmod m$ 的值，有没有压上界即可。</li><li>ok直接枚举每一位判断。</li></ul><h4 id="_734e" tabindex="-1"><a class="header-anchor" href="#_734e" aria-hidden="true">#</a> 734E</h4><ul><li>把同色点缩起来。</li><li>现在就变成每条边相邻的点颜色不同。这个需要的步数很好算，求出直径的中点，每次取反即可。所以需要的步数是 $\lceil \frac{x+1}2 \rceil$。</li></ul><h4 id="_1006f" tabindex="-1"><a class="header-anchor" href="#_1006f" aria-hidden="true">#</a> 1006F</h4><ul><li>这种 $k$ 很大的，如果是一维一般考虑 meet in the middle。</li><li>现在是二维，也差不多，考虑折半搜索。求出距离起点为 $n-1$ 的，距离终点为 $m-1$ 的，每个点看 $\oplus k$ 在另一边走过来有没有，map记录即可。</li></ul><h4 id="_1110d" tabindex="-1"><a class="header-anchor" href="#_1110d" aria-hidden="true">#</a> 1110D</h4><ul><li>记录一下以 $i/i+1$ 为中心的顺子选了几个。</li><li>每一种都不可能选 $\geq 3$ 个，因为这样可以拆成三个刻子。</li><li>枚举上一个的状态，转移即可。</li></ul><h4 id="_1353f" tabindex="-1"><a class="header-anchor" href="#_1353f" aria-hidden="true">#</a> 1353F</h4><ul><li>假设 $(1,1)$ 的高度变为了 $h$，那么只有高度为 $(i-1)+(j-1)+h$ 的点 $(i,j)$ 可以经过。</li><li>同样道理，只有 $a_{i,j}-(i-1)-(j-1)$ 的 $h$ 才有可能。</li><li>枚举所有可能的 $n^2$ 种 $h$，然后 $dp$，设 $dp[i][j]$ 表示到 $(i,j)$ 的最小代价，从左或上转移即可。</li></ul><h4 id="_713c" tabindex="-1"><a class="header-anchor" href="#_713c" aria-hidden="true">#</a> 713C</h4><ul><li>令 $a[i]-=i$ 变成单调不降。最后出现的数一定在现在的 $a$ 中出现过，否则你可以不停的给没出现过的 +1，答案只会变小。</li><li>把 $a$ 排序去重得到序列 $b$。</li><li>设 $f[i][j]$ 表示在第 $i$ 个位置放数字 $b_j$ 的答案。</li><li>转移就从 $f[i-1][\leq j]+|a_i-b_j|$ 的最小值转移过来，记录 $f[i][*]$ 前缀最小值即可。</li></ul><h4 id="_833b" tabindex="-1"><a class="header-anchor" href="#_833b" aria-hidden="true">#</a> 833B</h4><ul><li>设 $dp[i][j]$ 表示前 $i$ 个数分成 $j$ 段的最大价值，转移就是枚举段的开头。</li><li>很容易发现，固定 $j$，转移权值从 $i$ 到 $i+1$ 是给一个后缀+1。所以满足决策单调性。</li><li>枚举第二维，第一维分治即可。</li></ul><h4 id="_1446c" tabindex="-1"><a class="header-anchor" href="#_1446c" aria-hidden="true">#</a> 1446C</h4><ul><li>先建个trie树。异或值最小的首先得满足是 $lcp$ 最长的。</li><li>对于某个点的两个儿子，要么有一个儿子的子树没选点，要么有一个儿子的子树只选了一个点（都有 $\geq 2$ 个点直接两边内部连边，不连通）。</li><li>不考虑两条边重合变成一条边的情况，那么就变成，要最后是一个基环树，并且基环树的环的大小为 $2$。</li><li>分类讨论： <ul><li>有子树没选点，就直接做另一个子树（要求选点数 $\geq 2$）；</li><li>如果两个子树都只选了一个点，那么就造了一个大小为 $2$ 的环；</li><li>有一个子树只选了一个点，另一个子树选 $\geq 2$ 个点，直接递归大的子树，选了一个点的子树一定和其它不会成环。</li></ul></li><li>设 $dp[u]$ 表示 $u$ 子树最多可以选多少个点，转移即可。</li></ul><h4 id="_1156d" tabindex="-1"><a class="header-anchor" href="#_1156d" aria-hidden="true">#</a> 1156D</h4><ul><li>枚举01分界点 $u$。那么答案就是 $\sum_u (d[u][0]\times d[u][1]-1)$，其中 $d[u][0/1]$ 表示从 $u$ 出发只经过 $0/1$ 的边能走到的点的数量，$-1$ 是因为去掉只有 $u$ 一个点。</li><li>这个就维护 $0/1$ 两个并查集，把每个点只通过 $0/1$ 的边走到的连通块并起来。$d[u][0/1]$ 分别是属于 $0/1$ 的连通块大小。</li></ul><h4 id="_383d" tabindex="-1"><a class="header-anchor" href="#_383d" aria-hidden="true">#</a> 383D</h4><ul><li>设 $dp_{i,j}$ 表示 $1..i$ 的一个后缀和 $=j$ 的方案数，转移就是一种是只有 $i$ 一个树，另一种是从 $dp_{i-1}$ 转移过来。</li></ul><h4 id="_1215e" tabindex="-1"><a class="header-anchor" href="#_1215e" aria-hidden="true">#</a> 1215E</h4><ul><li>根据经典结论，最后同颜色的一定相对顺序不变。</li><li>二进制记录之前出现了哪些，相当于求个逆序对，同颜色的递增排，之前出现的值比它们小，就看每个数后有多少个之前出现的数即可。</li></ul><h4 id="_13c" tabindex="-1"><a class="header-anchor" href="#_13c" aria-hidden="true">#</a> 13C</h4><ul><li>713C的后半部分。</li><li>把 $a$ 排序去重得到序列 $b$。</li><li>设 $f[i][j]$ 表示在第 $i$ 个位置放数字 $b_j$ 的答案。</li><li>转移就从 $f[i-1][\leq j]+|a_i-b_j|$ 的最小值转移过来，记录 $f[i][*]$ 前缀最小值即可。</li></ul><h4 id="_771c" tabindex="-1"><a class="header-anchor" href="#_771c" aria-hidden="true">#</a> 771C</h4><ul><li>设 $dp[u][i][0/1]$ 表示 $u$ 的子树到 $u$ 距离 $\bmod k=i$ 的点数和跳的次数之和。</li><li>从 $\bmod k=0$ 到 $\bmod k=1$ 需要多跳 $1$ 次。</li><li>换根 $dp$ 转移，最后注意答案要除以 $2$（无序对）。</li></ul><h4 id="_466d" tabindex="-1"><a class="header-anchor" href="#_466d" aria-hidden="true">#</a> 466D</h4><ul><li>用 $h$ 减去每个数。然后就要所有数都变成 $0$。</li><li>再差分，区间操作就变成单点操作了。还是要求每个位置都为 $0$。</li><li>差分值为 $1$ 说明这里要放左端点，这里开始之后的都减 $1$。</li><li>差分值为 $-1$ 说明之前要放右端点，这里开始之后的都减 $1$。</li><li>差分值为 $0$ 可能是之前放了个右端点这里又放了个左端点。</li><li>差分值为 $1$ 的新增一个左端点，差分值为 $-1$ 的选择之前的一个左端点匹配，差分值为 $0$。</li></ul><h4 id="_1482e" tabindex="-1"><a class="header-anchor" href="#_1482e" aria-hidden="true">#</a> 1482E</h4><ul><li>暴力 $dp$ 是 $f[i]=\max_{j&lt;i}{f[j]+val(j+1,i)}$。</li><li>这个权值只和最小值位置有关，维护一个单调栈，存后缀最小值。</li><li>那么转移就从单调栈里的元素 $x$，$\max_{j\leq x}{f[j]}+b_j$ 更新当前的值。</li><li>发现这个和 $i$ 没有关系，维护这个值和这个值的前缀最大值，方便弹栈的时候更新。</li></ul><h4 id="_1223e" tabindex="-1"><a class="header-anchor" href="#_1223e" aria-hidden="true">#</a> 1223E</h4><ul><li>设 $dp[u][0/1]$ 表示以 $u$ 为根的子树，$u$ 和父亲没有/有一样的颜色的最大贡献和。</li><li>转移首先是 $\sum dp[v][0/1]$，然后选最大的 $k/k-1$ 个 $dp[v][1]+cost(u,v)-dp[v][0]$ 非负的分别转移到 $dp[v][0/1]$。</li></ul><h4 id="_1198d" tabindex="-1"><a class="header-anchor" href="#_1198d" aria-hidden="true">#</a> 1198D</h4><ul><li>要分割使答案更小要么行上切一刀，要么列上切一刀。</li><li>所以设 $dp[x1][y1][x2][y2]$ 表示这个矩形的最小代价，转移就枚举在哪行切分成两部分，当然还有全部都覆盖的情况，取最小值。</li></ul><h4 id="_1238e" tabindex="-1"><a class="header-anchor" href="#_1238e" aria-hidden="true">#</a> 1238E</h4><ul><li>你考虑二进制记录哪些字符在之前出现。</li><li>这个相邻的绝对值之差，如果另一个在之前出现则当前是正贡献，否则是负贡献，计算一下加进状态。</li><li>具体怎么看有多少负贡献多少正贡献？先求出相邻两个字符分别为 $a,b$ 的个数，转移就是当前字符，另一个在当前二进制里的都是负的，其它都是正的。</li><li>你可以预处理一个字符 $c$ 和一个二进制状态的贡献，转移就从二进制状态去掉 lowbit 转移过来。</li></ul><h4 id="_1552f" tabindex="-1"><a class="header-anchor" href="#_1552f" aria-hidden="true">#</a> 1552F</h4><ul><li>你走到某一个位置，那么之前的一定都是 active 的。</li><li>设 $dp[i]$ 表示走到 $i$（$1..i$ 都是 active 的）被传送回去需要多久才能离开 $i$，那么转移就是你先被传送到 $y_i$，而 $y_i$ 一定是 active 的，你需要先从全 active 的状态从 $y_i$ 走到 $y_{i+1}$，再走到 $y_{i+2}$，依次类推。所以 $dp[i]=1+\sum_{j=y_i}^{i-1} dp[j]$，记录前缀和转移即可。</li></ul><h4 id="_1185g1" tabindex="-1"><a class="header-anchor" href="#_1185g1" aria-hidden="true">#</a> 1185G1</h4><ul><li>直接状压 dp，记录当前选过的歌的状态，最后一首歌的编号。</li><li>转移枚举选了哪首歌即可。</li></ul><h4 id="_1077f2" tabindex="-1"><a class="header-anchor" href="#_1077f2" aria-hidden="true">#</a> 1077F2</h4><ul><li>这个一眼单调队列。</li><li>设 $dp[j][i]$ 表示当前到 $i$ 且选了 $i$，总共选了 $j$ 个元素的最大和。</li><li>先枚举 $j,i$，要从 $a_i+\max_{i-m\leq k&lt;i} dp[j-1][k]$ 转移过来，显然是单调队列（滑动窗口）的形式，维护即可。</li></ul><h4 id="_543d" tabindex="-1"><a class="header-anchor" href="#_543d" aria-hidden="true">#</a> 543D</h4><ul><li>设 $f[u]$ 表示 $u$ 的子树到 $u$ 都满足条件的改良道路的方案数。</li><li>转移看所有 $v$，如果 $v$ 到父亲的路不改良，那么 $v$ 的子树只有一种方案（全部改良），否则随意。即 $f[u]=\prod (f[v]+1)$。</li><li>然后换根 $dp$，注意要把 $f[v]+1$ 除掉，但是可能没有逆元，所以 $f[u]$ 要记录有多少个 $0$，非 $0$ 的乘积，才能换根。</li></ul><h4 id="_1106e" tabindex="-1"><a class="header-anchor" href="#_1106e" aria-hidden="true">#</a> 1106E</h4><ul><li>如果你选了某个红包，由于 $s_i\leq t_i\leq d_i$，所以之后 $d_i$ 秒能选的红包一定不会再选到这个红包。</li><li>设 $dp[i][j]$ 表示现在到 $i$ 秒，之前干扰了 $j$ 次，由于你在Bob本身要跳过的时候干扰是无效果的，所以第 $i$ 秒如果有红包，要么干扰转移到 $dp[i+1][j+1]$，要么不干扰转移到 $dp[d[choose[i]]][j]$；没有红包直接转移到 $dp[i+1][j]$。</li><li>最后看 $dp[n+1][j]$ 的最小值即可。</li></ul><h4 id="_1168c" tabindex="-1"><a class="header-anchor" href="#_1168c" aria-hidden="true">#</a> 1168C</h4><ul><li>容易发现，and 不为 0 即两个数某一位都是 1。</li><li>所以只需要取一个代表位，维护每个数之前第一个能到达的，第 $i$ 位为 $1$ 的数。</li><li>这个很好维护，枚举每一位，找到前一个有这一位的数，把能到达的第 $i$ 位为 1 的取个较大值。</li></ul><h4 id="_1234f" tabindex="-1"><a class="header-anchor" href="#_1234f" aria-hidden="true">#</a> 1234F</h4><ul><li>考虑这个翻转后的子串，假设现在取的是 $[l,r]$，那么如果你翻转的和 $[l,r]$ 不交或被 $[l,r]$ 包含是没有效果的，所以只会是左相交或右相交。</li><li>由于 $[l,r]$ 内顺序没有关系。左相交出现的字符是要翻转区间的一个前缀+当前区间的一个后缀，右相交出现的字符是当前区间的一个前缀+要翻转区间的一个后缀。</li><li>现在就变成取两个不相交的区间，要求不出现相同字符（内部和两个之间），显然这个不相交的条件没用，满足字符不同一定不相交。</li><li>把所有不出现相同字符的区间拿二进制数记录，现在就是找两个 and 为 $0$ 的数的非 $0$ 位数之和。</li><li>这个 and 为 $0$ 就很经典了，高维前缀和做一下，然后枚举 $x$，看 $all^x$ 的子集的最多 $1$ 的位数即可。</li></ul><h4 id="_799d" tabindex="-1"><a class="header-anchor" href="#_799d" aria-hidden="true">#</a> 799D</h4><ul><li>由于每个数每次最多*2，所以最多只需要34次就可以了。</li><li>乘的数显然越大越好，把 $a$ 的数从大到小排序。</li><li>记录用了 $i$ 次操作，一边边长为 $x$ 时，另一边边长最多为多少。枚举下一个给谁，转移即可。</li></ul><h4 id="_988f" tabindex="-1"><a class="header-anchor" href="#_988f" aria-hidden="true">#</a> 988F</h4><ul><li>显然每个点只有最轻的那把伞才有用。</li><li>设 $dp[i][j]$ 表示在 $i$ 拿第 $j$ 把伞的最小代价（$j=0$ 表示不拿）。考虑从 $i-1$ 走到 $i$。</li><li>可以直接撑着伞走到 $i$；如果 $i$ 不下雨，可以扔伞再走到 $i$；如果 $i-1$ 有其它伞，可以换伞然后走到 $i$。</li></ul><h4 id="_1140e" tabindex="-1"><a class="header-anchor" href="#_1140e" aria-hidden="true">#</a> 1140E</h4><ul><li>这个条件等价于不存在长度为 $3$ 的连续回文子串，即不存在 $a_{i-1}=a_{i+1}$。</li><li>那么不同奇偶性的就独立了，分开后就变成相邻数字不能相同。那么把连续的极长 $-1$ 段拿出来，那么这一段的方案数只和两边的数字是否相同和 $-1$ 段的长度有关。</li><li>先用 $(k-1)^l$ 计算出每个数和前一个数不相同的方案，再扣除最后一个 $-1$ 和下一个相同的方案（从 $l-1$ 转移）。</li></ul><h4 id="_1225e" tabindex="-1"><a class="header-anchor" href="#_1225e" aria-hidden="true">#</a> 1225E</h4><ul><li>考虑每次转向的时候，比如现在是往右，要变成往下，假设往下的箱子有 $x$ 个，能走到最多 $n-x$ 行。现在是往下的同理。</li><li>所以就变成给一行的连续的位置或一列连续的位置加，可以差分来做。</li></ul><h4 id="_981e" tabindex="-1"><a class="header-anchor" href="#_981e" aria-hidden="true">#</a> 981E</h4><ul><li>由于初始都是 $0$，所以任意 $i$ 能达到的值的并集就是所有可能的 $k$（因为可以只选达到这个最大值时选的包含 $i$ 的区间）。</li><li>加入一个数容易操作，但是删除一个数比较困难。考虑线段树分治，给区间里的位置都加入一个 $k$。</li><li>那么，对每个点维护一个bitset，初始从父亲继承，每次加入当前节点新加入的那些数。复杂度 $O(nq\log n/w)$。</li></ul><h4 id="_922e" tabindex="-1"><a class="header-anchor" href="#_922e" aria-hidden="true">#</a> 922E</h4><ul><li>容易想到记录到第 $i$ 棵树，买了 $j$ 只鸟，还有 $c$ 块钱是否可行。</li><li>可以发现把 $c$ 放到结果里也可行，即记录到第 $i$ 棵树，买了 $j$ 只鸟最多能剩下多少钱（上限你是知道的，$j\times B$）。</li><li>转移就枚举这棵树买了多少鸟，这样复杂度是 $O((\sum c_i)^2)$ 的。</li></ul><h4 id="_464c" tabindex="-1"><a class="header-anchor" href="#_464c" aria-hidden="true">#</a> 464C</h4><ul><li>把操作倒着过来做，处理出每个操作变成的 $\bmod 10^9+7$ 值和变成的位数。</li><li>然后把每个数字替换后的拼接起来，求出现在的 $\bmod 10^9+7$ 值和位数，相当于知道现在某个字符会变成什么。</li><li>最后再做 $s$，也替换后拼接起来，输出值即可。</li></ul><h4 id="_1249f" tabindex="-1"><a class="header-anchor" href="#_1249f" aria-hidden="true">#</a> 1249F</h4><ul><li>一个子树内选的点如果两两满足条件，那么对子树外有影响的只有选择的最浅的点的深度。</li><li>不过这样转移还要枚举两个子树的深度，不方便。不妨做个后缀最大值。</li><li>考虑枚举深度最浅的儿子和它的深度，其它的和它的深度之和不能小于 $k$，并且深度不能比它小。维护每个子树某个深度的 $dp$ 值和即可。</li></ul><h4 id="_570e" tabindex="-1"><a class="header-anchor" href="#_570e" aria-hidden="true">#</a> 570E</h4><ul><li>记录当前走到第 $i$ 步，正着在第 $a$ 行，倒着在第 $b$ 行的方案数。</li><li>转移就枚举正着的方向，倒着的方向，转移即可。</li></ul><h4 id="_489f" tabindex="-1"><a class="header-anchor" href="#_489f" aria-hidden="true">#</a> 489F</h4><ul><li>记录还需要多少列 $2$ 和多少列 $1$。</li><li>然后记录到哪一行，还有多少列 $1$，那么可以计算出有多少列 $2$，选一下放的列，转移即可。</li></ul><h4 id="_1227f1" tabindex="-1"><a class="header-anchor" href="#_1227f1" aria-hidden="true">#</a> 1227F1</h4><ul><li>设 $dp(i,j)$ 表示前 $i$ 题多得 $j$ 分的方案数，暴力转移即可。</li></ul><h4 id="_1579g" tabindex="-1"><a class="header-anchor" href="#_1579g" aria-hidden="true">#</a> 1579G</h4><ul><li>设 $dp[i][j]$ 表示当前在 $i$，离左端点距离为 $l$ 时，离右端点距离最小为多少。</li><li>一种是往左，减少 $j$（注意和 $0$ 取最大值），离右端点的距离增加。</li><li>一种是往右，增加 $j$，离右端点的距离减少（注意和 $0$ 取最大值）。</li></ul><h4 id="_1245f" tabindex="-1"><a class="header-anchor" href="#_1245f" aria-hidden="true">#</a> 1245F</h4><ul><li>容易发现条件等价于两个数 $and$ 起来为 $0$。</li><li>要求不能有某一位两个数都是 $1$，把 $l,r$ 用类似二维前缀和的方法拆开，两个数就只有上界了，数位 dp 即可。</li></ul><h4 id="_932d" tabindex="-1"><a class="header-anchor" href="#_932d" aria-hidden="true">#</a> 932D</h4><ul><li>这种加儿子的应该立刻想到倍增。</li><li>倍增合并两段的点权之和。由于新的点只会是叶节点，就可以在加点时倍增处理出该点向上 $2^i$ 的点和此时的点权之和。</li></ul><h4 id="_1066f" tabindex="-1"><a class="header-anchor" href="#_1066f" aria-hidden="true">#</a> 1066F</h4><ul><li>级别为 $i$ 的形成一个左右翻转的 $L$ 形。</li><li>没走完第 $i$ 层的关键点一定不会到 $i+1$ 层，同理你到 $i-1$ 层也不优。</li><li>你结束的时候一定在两端点，所以就记录 $dp[i][0/1]$ 分别表示在 $L$ 形最上端和最左端的答案。转移就从上一层的点过来绕这一层的关键点一圈。</li></ul><h4 id="_507d" tabindex="-1"><a class="header-anchor" href="#_507d" aria-hidden="true">#</a> 507D</h4><ul><li>倒着过来数位 dp，记录当前 $\bmod k$ 的值即可。</li></ul><h4 id="_1176f" tabindex="-1"><a class="header-anchor" href="#_1176f" aria-hidden="true">#</a> 1176F</h4><ul><li>每轮只有 $5$ 张牌是有可能使用的（最大的一张 $3$，最大的一张 $2$，前三大的 $1$）。</li><li>记录一下上一次暴击已经过去了多久，枚举这一次是怎么用的（3 or 1+2(2) or 1+1+1(1+1,1)），如果达到了暴击就把那一张双倍。</li></ul><h4 id="_1105e" tabindex="-1"><a class="header-anchor" href="#_1105e" aria-hidden="true">#</a> 1105E</h4><ul><li>相邻两次修改 handle 之间，最多只有一个朋友会满足。</li><li><strong>一些数只能选一个，即任意两个数不能同时选</strong>。把这些朋友两两连边，求最大独立集。</li><li>可以折半，求出前 $m/2$ 个点，不和这边有冲突的情况下，另一边哪些点可以选；后 $m/2$ 个点搜出哪些是可以的，做高维前缀和即可。</li><li>不过也可以用牛逼 Bron–Kerbosch 算法。</li></ul><h4 id="_587b" tabindex="-1"><a class="header-anchor" href="#_587b" aria-hidden="true">#</a> 587B</h4><ul><li>设 $dp_{i,j}$ 表示考虑到第 $i$ 个块，选了第 $j$ 个数的方案数。</li><li>每个块只选一个数，所以可以把 $a$ 排序。</li><li>除了最后一个块，其它块每个都可以从之前的所有位置转移。最后一个块特殊考虑一下即可。</li></ul><h4 id="_1304f1" tabindex="-1"><a class="header-anchor" href="#_1304f1" aria-hidden="true">#</a> 1304F1</h4><ul><li>设 $dp(i,j)$ 表示第 $i$ 行从 $j$ 开始拍的动物数量的最大值。</li><li>转移和交的大小有关，分在左边分离，左相交，右相交，右边分离四种情况。</li><li>1,4 两种可以求前后缀最大值，2,3 可以滑动窗口转移。</li></ul><h4 id="_1621e" tabindex="-1"><a class="header-anchor" href="#_1621e" aria-hidden="true">#</a> 1621E</h4><ul><li>如果没有学生退学，你一定是把老师和学生平均值从大到小排序，一一对应。</li><li>如果现在平均值变大，那么要往左移，中间那些必须往右移，判断一下中间那些和当前的行不行，剩下的位置不变，也得判断行不行。</li><li>如果现在平均值变小，那么要往右移，中间那些必须往左移，判断一下中间那些和当前的行不行，剩下的位置不变，也得判断行不行。</li></ul><h4 id="_960e" tabindex="-1"><a class="header-anchor" href="#_960e" aria-hidden="true">#</a> 960E</h4><ul><li>考虑求出以边的一端为父亲，另一端子树有多少深度为奇数/偶数的点。这个用换根dp容易求。</li><li>那么另一个端点可以在其它点里随便选。</li></ul><h4 id="_743e" tabindex="-1"><a class="header-anchor" href="#_743e" aria-hidden="true">#</a> 743E</h4><ul><li>二分 $k$ 表示每个数出现了 $k$ 或 $k+1$ 次。</li><li>然后就可以 $dp$，记录二进制状态表示之前出现了哪些数，枚举当前数字，转移到当前数字出现 $k$ 次或出现 $k+1$ 次后的位置。</li></ul><h4 id="_313d" tabindex="-1"><a class="header-anchor" href="#_313d" aria-hidden="true">#</a> 313D</h4><ul><li>$dp(i,j)$ 记录当前到 $i$，选了 $j$ 个的最小花费。</li><li>转移就枚举覆盖 $i..k-1$ 的区间（对于每个 $i$ 预处理代价最小的），转移到 $dp(k,j+(k-i))$。当然还可以不覆盖直接到 $dp(i+1,j)$。</li></ul><h4 id="_1551f" tabindex="-1"><a class="header-anchor" href="#_1551f" aria-hidden="true">#</a> 1551F</h4><ul><li>距离相同说明不存在三个点在一条链上。设两两距离为 $d$。</li><li>那么这三个点一定存在唯一中心点，使得三个点在它的不同子树，且深度都为 $d/2$。</li><li>其它点深度也得为 $d/2$，可以发现，如果有两个点在同一个子树，那么距离就不对了。</li><li>数据范围很小，枚举中心点，每个子树选至多一个深度为 $d/2$ 的即可。这个可以用dp解决。</li></ul><h4 id="_1197e" tabindex="-1"><a class="header-anchor" href="#_1197e" aria-hidden="true">#</a> 1197E</h4><ul><li>dp记录最小值及方案数。</li><li>直接转移是平方的，但可以发现，一定是取 $out_j\leq in_i$ 的最小的若干个转移，求它们的方案数和。</li><li>你按照 $out$ 来排序，二分出这样的一个前缀，维护前缀最小值和最小值方案数即可。</li></ul><h4 id="_500e" tabindex="-1"><a class="header-anchor" href="#_500e" aria-hidden="true">#</a> 500E</h4><ul><li>设 $nxt_i$ 表示推到 $i$ 后最近一个推不倒的是哪个位置，$val_i$ 表示要推倒 $nxt_i$ 需要多少代价。</li><li>那么询问相当于从 $l$ 开始，一直加上经过的 $nxt$，直到 $nxt&gt;r$。</li><li>直接倍增即可。</li></ul><h4 id="_757d" tabindex="-1"><a class="header-anchor" href="#_757d" aria-hidden="true">#</a> 757D</h4><ul><li>$1..21$ 的二进制位数和 $&gt;75$，所以最大的数字不能超过 $20$。</li><li>枚举当前到哪了，当前的数有几位，当前的二进制状态是什么，状态里加入当前数字转移即可。</li></ul><h4 id="_490f" tabindex="-1"><a class="header-anchor" href="#_490f" aria-hidden="true">#</a> 490F</h4><ul><li>平方其实很容易，直接换根即可。</li><li>这个状态是权值的话比较大，不妨反过来，记录选择 $x$ 点时两种序列结尾的最小/最大值。直接暴力转移另一边双指针还是平方的。</li><li>继续优化，长链剖分，不用双指针，用二分来求另一边的最大值，这样就做到了 $O(n \log n)$。</li></ul><h4 id="_1065d" tabindex="-1"><a class="header-anchor" href="#_1065d" aria-hidden="true">#</a> 1065D</h4><ul><li>容易想到直接建图。</li><li>需要注意，当前种类，匹配到第几个也是要记的。</li><li>建图就是一种是花 $(0,1)$ 的代价变棋子种类，一种是直接走，一种是换棋子，一种是匹配到下一种。</li></ul><h4 id="_283c" tabindex="-1"><a class="header-anchor" href="#_283c" aria-hidden="true">#</a> 283C</h4><ul><li>题目给的只能是若干个环或链，显然有环的话一定无解。</li><li>那么，你求出每条链可能的最小值，比它大的一定都能取到，且你可以给一个后缀+1，即总和加 $1,2,\cdots,len$ 都可以。</li><li>做个完全背包即可。</li></ul><h4 id="_514e" tabindex="-1"><a class="header-anchor" href="#_514e" aria-hidden="true">#</a> 514E</h4><ul><li>设 $dp_i$ 表示距离根恰好为 $i$ 的点数，那么 $dp_i=\sum_j dp_{i-j}\times cnt_j$。</li><li>$d$ 只有 $100$，预处理 $100$ 以内的然后矩阵快速幂。</li></ul><h4 id="_1044c" tabindex="-1"><a class="header-anchor" href="#_1044c" aria-hidden="true">#</a> 1044C</h4><ul><li>可以发现求的是包含选出的 $k$ 边形的最小矩形的周长。</li><li>当 $k\leq 4$ 时，直接取最上/下/左/右的点即可。</li><li>当 $k=3$ 时，如果一个点提供两个方向的界，另外两个点分别提供一个方向的界，不妨把那两个提供一个方向的界的变成方向上的边界；如果两个点提供两个方向的界，那么另外的那个点可以变成某个方向的边界，此时就会有一个点只提供一个方向的界，把那个点再移到边界。现在就知道了一定有两个点在界上，且可以选界上任何一个点（因为只提供一个方向的界），所以你可以 $4\times 4\times n$ 枚举三个点。</li></ul><h4 id="_590d" tabindex="-1"><a class="header-anchor" href="#_590d" aria-hidden="true">#</a> 590D</h4><ul><li>如果知道了哪些要移到前 $k$ 个，那么最后它们的相对顺序不会改变。$p_i$ 移到第 $i$ 个位置的代价为 $p_i-i$。</li><li>设 $dp[i][j][s]$ 表示前 $i$ 个位置，选了 $j$ 个数，代价和为 $s$ 此时和最小为多少。</li><li>转移就分数字是否移动，不移动从 $dp[i-1][j][s]$ 转移，移动从 $dp[i-1][j-1][s-(i-j)]+a[i]$ 转移。</li></ul><h4 id="_111c" tabindex="-1"><a class="header-anchor" href="#_111c" aria-hidden="true">#</a> 111C</h4><ul><li>$n\times m\leq 40$ 说明 $\min(n,m)\leq 6$。</li><li>不妨假设 $m\leq n$，状压 dp，记录当前行剩下的蜘蛛状态，下一行剩下的蜘蛛状态。</li><li>转移时枚举这一行放了哪些关键点，注意此时必须把上一行填满，再求出这一行剩下的蜘蛛和下一行剩下的蜘蛛。</li><li>复杂度是 $O(\max(n,m)\times 8^{\min(n,m)})$。</li></ul><h4 id="_56d" tabindex="-1"><a class="header-anchor" href="#_56d" aria-hidden="true">#</a> 56D</h4><ul><li><strong>字符串汉明距离模板</strong>。</li><li>设 $f[i][j]$ 表示 $s[1..i]$ 和 $t[1..j]$ 匹配的最小花费。</li><li>f[i][j]=min(f[i-1][j]+1,f[i][j-1]+1,f[i-1][j-1]+(a[i]!=b[j]))</li></ul><h4 id="_855e" tabindex="-1"><a class="header-anchor" href="#_855e" aria-hidden="true">#</a> 855E</h4><ul><li>明显先变成 $f(r)-f(l-1)$ 然后状压记录之前位哪些数字出现了奇数次。</li><li>直接记忆化搜索+数位dp即可。</li></ul><h4 id="_1245e" tabindex="-1"><a class="header-anchor" href="#_1245e" aria-hidden="true">#</a> 1245E</h4><ul><li>不能一步到达的格子，每一面都有 $1/6$ 的概率，而抛到一个面就有走梯子和不走梯子两种，选期望小的，累加即可。</li><li>能一步到达的，可以手动计算，发现答案都是 $6$（以 $99$ 为例，$5/6$ 的概率不动，$1/6$ 的概率走到 $100$）。</li></ul><h4 id="_403d" tabindex="-1"><a class="header-anchor" href="#_403d" aria-hidden="true">#</a> 403D</h4><ul><li>给所有区间的长度增加 $1$，然后可以添加一个长度为 $1$ 的区间。</li><li>设 $dp_{i,j}$ 表示长度总和为 $i$，$j$ 个区间的方案数，转移就转移到 $dp_{i+j,j}$ 或 $dp_{i+j,j+1}$。</li><li>询问时枚举区间总长，取出 $k$ 个区间，剩下的组合数选一下即可。</li></ul><h4 id="_1089a" tabindex="-1"><a class="header-anchor" href="#_1089a" aria-hidden="true">#</a> 1089A</h4><ul><li>分情况，一种是两者进入加赛，一个 $+val$ 一个 $+val-2$，必须赢的得分 $&gt;winscore$；另一种就是在 $winscore$ 直接赢了，另一个得分 $&lt;winscore-1$。</li><li>直接 $dp$ 记录两个队各自得分总和（a,b），两者比分（x:y）。</li><li>暴力dp即可。</li></ul><h4 id="_489e" tabindex="-1"><a class="header-anchor" href="#_489e" aria-hidden="true">#</a> 489E</h4><ul><li>先二分，01分数规划。给每个边权减去二分的值。</li><li>然后你看最短路是否&gt;0，如果满足就要增大，否则减小。</li><li>最后跑一次，记录每个点从哪里过来，输出。</li></ul><h4 id="_425c" tabindex="-1"><a class="header-anchor" href="#_425c" aria-hidden="true">#</a> 425C</h4><ul><li>最多拿到 $300000/1000=300$ 元钱。</li><li>设 $dp[i][j]$ 表示有 $i$ 元钱时，$b$ 串删除到了 $j$ 处时，$a$ 串删到的最小位置。</li><li>转移就是找 $b[j]$ 与 $dp[i-1][j-1]$ 后的第一个相同的数字匹配。</li></ul><h4 id="_1151f" tabindex="-1"><a class="header-anchor" href="#_1151f" aria-hidden="true">#</a> 1151F</h4><ul><li>设 $0$ 有 $x$ 个，最终状态要求前 $x$ 个都是 $0$。</li><li>dp 可以记录前 $x$ 中现在有多少个 $0$（因为两部分内部的顺序是没有关系的）。</li><li>每次就是，要么交换两个内部的，不影响；要么交换两个之间的，交换左边 $0$ 右边 $1$ 那么 $x-1$，交换左边 $1$ 右边 $0$ 那么 $x+1$，其它不变。</li><li>发现转移和 $k$ 无关，直接矩乘即可。</li></ul><h4 id="_1172c1" tabindex="-1"><a class="header-anchor" href="#_1172c1" aria-hidden="true">#</a> 1172C1</h4><ul><li>枚举当前的权值。</li><li>dp 记录到哪一步，被喜欢的数字 $w$ 之和，不被喜欢的数字 $w$ 之和时喜欢/不喜欢的期望权值。</li></ul><h4 id="_935e" tabindex="-1"><a class="header-anchor" href="#_935e" aria-hidden="true">#</a> 935E</h4><ul><li>建立表达式树，在树上 dp。</li><li>以 $p&lt;m$ 为例，记录 $dp_{u,x}$ 表示 $u$ 子树选了 $x$ 个加号的最大最小贡献，转移是 $O(p^2)$ 的。</li><li>$m\leq p$ 同理。</li></ul><h4 id="_629e" tabindex="-1"><a class="header-anchor" href="#_629e" aria-hidden="true">#</a> 629E</h4><ul><li>分类讨论。</li><li>如果两点不是祖孙关系，那么就是两个点子树连边。首先先加入所有方案的这条新加的边和路径上所有的边，剩下的就是那些点到 $u/v$ 的距离之和，dp 预处理出每个点子树到它的深度之和即可。</li><li>如果是祖孙关系，假设 $u$ 是 $v$ 祖先。还是差不多，还是新加的边和路径上的所有便都有，其它的边如果是 $v$ 的子树连出去的，直接计算方案数即可；如果是 $u$ 除了 $v$ 方向的子树，换根 dp，钦定 $u$ 为根（这样父亲方向就不影响了），再去掉 $v$ 向子树的影响计算一下就可以了。</li></ul><h4 id="_954f" tabindex="-1"><a class="header-anchor" href="#_954f" aria-hidden="true">#</a> 954F</h4><ul><li>没有障碍显然直接设第 $i$ 行第 $j$ 列，然后直接矩乘。</li><li>现在这样就直接分段，障碍物之间的矩乘加速即可。</li></ul><h4 id="_859d" tabindex="-1"><a class="header-anchor" href="#_859d" aria-hidden="true">#</a> 859D</h4><ul><li>显然是个二叉树的形式，设 $w(u,x)$ 表示 $u$ 的子树 $x$ 赢了的概率，$v(u,x,y)$ 表示 $u$ 这个点上如果 $x,y$ 比赛，下注 $x$ 的期望，设 $f(u,x)$ 表示 $u$ 这个点上下注 $x$ 总得分的期望。</li><li>枚举 $x$。算 $v$，从下一层的 $w$ 转移过来。算 $f$，上一轮压也压它，加上上一轮压另外一个 $y$ 的最大概率，再这一轮赢的概率 $f$。</li></ul><h4 id="_142c" tabindex="-1"><a class="header-anchor" href="#_142c" aria-hidden="true">#</a> 142C</h4><ul><li>这个只和前两行有关，记录一下，枚举这一行，再枚举放的方向。</li><li>范围很小，直接暴力，然后打出答案的表即可。</li></ul><h4 id="_294e" tabindex="-1"><a class="header-anchor" href="#_294e" aria-hidden="true">#</a> 294E</h4><ul><li>拆成两棵树后两树内部两两距离和不变，加上中间一条边的贡献。</li><li>假设连了两边 $u,v$，再加上两边点到 $u/v$ 的距离和。所以两边选的一定是重心，由于权值很小直接暴力计算贡献即可。</li></ul><h4 id="_509f" tabindex="-1"><a class="header-anchor" href="#_509f" aria-hidden="true">#</a> 509F</h4><ul><li>区间dp，记录一种树的方案数，一种分成若干个根从小到大的森林的方案数。</li><li>转移就枚举从哪里分开（树枚举第一个儿子，森林枚举第一棵树），然后从更小的转移。复杂度 $O(n^3)$。</li></ul><h4 id="_852e" tabindex="-1"><a class="header-anchor" href="#_852e" aria-hidden="true">#</a> 852E</h4><ul><li>就看选的根是不是叶子节点。</li><li>不是的话其它点随便选，叶子节点有唯一方案。</li><li>是的话也没啥区别，就是叶子节点少了一个。</li><li>计算一下叶子节点个数，快速幂即可。</li></ul><h4 id="_28c" tabindex="-1"><a class="header-anchor" href="#_28c" aria-hidden="true">#</a> 28C</h4><ul><li>这个最大的期望不好算，还是固定最大值比较好。</li><li>枚举所有数字都不超过这个最大值 $x$。</li><li>设 $dp[i][j]$ 表示前 $i$ 间洗漱室，有 $j$ 个学生，每个洗漱室最长队伍长度都不超过 $x$ 的概率。</li><li>转移就枚举这间洗漱室有多少人，组合数取一下是哪些人，就可以了。</li></ul><h4 id="_1575l" tabindex="-1"><a class="header-anchor" href="#_1575l" aria-hidden="true">#</a> 1575L</h4><ul><li><strong>可以发现只和相邻的有贡献的有关。</strong></li><li>要移到的位置比原来数要小才可能有贡献，即 $a_i\leq i$。</li><li>考虑怎样相邻的 $i&lt;j$ 能被同时保留且有贡献，那么首先得满足 $a_i&lt;a_j$（有贡献的要递增），其次它们要到自己要到的位置删的数字个数也得满足条件，即 $i-a_i\leq j-a_j$（之前删的个数要满足）。</li><li>然后看看是否还要满足其它条件，发现不需要了，比如你要求 $i_1&lt;i_2&lt;\cdots&lt;i_k$ 都有贡献，那么在相邻两个 $i,j$，删掉 $(j-a_j)-(i-a_i)$ 个，且由于 $a_i&lt;a_j$ 所以删的数字个数一定不到 $j-i$。</li><li>发现 $a_i&lt;a_j$ 和 $i-a_i\leq j-a_j$ 完全替代了 $i&lt;j$，所以现在只有两个条件了（不满足 $a_i\leq i$ 可以直接扔掉），相当于求满足这个条件能选出的最多数字个数，是一个二元组的 LIS，计算即可。</li></ul><h4 id="_385d" tabindex="-1"><a class="header-anchor" href="#_385d" aria-hidden="true">#</a> 385D</h4><ul><li>状压dp，记录之前哪些选了，排成了连续的一段的最长长度。</li><li>转移就是找另外的灯从它之后开始覆盖，看最多能覆盖到哪，取最大转移。</li></ul><h4 id="_300d" tabindex="-1"><a class="header-anchor" href="#_300d" aria-hidden="true">#</a> 300D</h4><ul><li>当 $n$ 是奇数的时候，可以分成四个边长为 $(n-1)/2$ 的矩形。</li><li>算一下能分几层。设 $dp(i,j)$ 表示还能分 $i$ 层，分 $j$ 次的方案。</li><li>转移理论上是 $dp(i+1)$ 的四次，可以通过两次平方算出。注意还得加上不选的方案数（直接四次认为根节点选）。</li><li>平方可以暴力，复杂度是 $O(k^2\log n+q\log n)$。</li></ul><h4 id="_1252j" tabindex="-1"><a class="header-anchor" href="#_1252j" aria-hidden="true">#</a> 1252J</h4><ul><li>设 $dp(i,j)$ 表示前 $i$ 个位置覆盖了 $j$ 种 3，最多能覆盖多少种 2（之后可以替换成 1）。</li><li>那么剩下的都填 1，然后如果两个 1 比 2 优可以再尽量替换，然后如果一个 1 就比 2 优也可以再替换一个，剩下的直接空着。</li></ul><h4 id="_279d" tabindex="-1"><a class="header-anchor" href="#_279d" aria-hidden="true">#</a> 279D</h4><ul><li>设 $dp(i,s)$ 表示当前到第 $i$ 次操作，$a$ 中 $s$ 状态的数此时必须在序列中出现的答案。</li><li>枚举由哪两个加起来，把当前的扣掉，加入那两个数和 $i-1$ 转移过来。</li></ul><h4 id="_677e" tabindex="-1"><a class="header-anchor" href="#_677e" aria-hidden="true">#</a> 677E</h4><ul><li>以一般形为例，一定是找上下左右第一个 $0$，求出使得答案非 $0$ 的最大的 $d$。</li><li>这个权值可能过大，用经典取log来判断大小。</li><li>旋转形可以转坐标。</li></ul><h4 id="_49e" tabindex="-1"><a class="header-anchor" href="#_49e" aria-hidden="true">#</a> 49E</h4><ul><li>根据经典套路，最后缩成了一个不能再缩的字符串，那么其中的每个字符都对应原串的某个区间缩过来。</li><li>设 $p[i][j][c]$ 表示 $s[i..j]$ 能不能缩成字符 $c$，$q[i][j][c]$ 同理。这个可以通过枚举分界点和变化方式，$O(|\Sigma|n^4)$ 转移。</li><li>然后就是设 $f[i][j]$ 表示 $s[1..i]$ 和 $t[1..j]$ 匹配时最小的长度，转移还是枚举下一个字符和两个下一段的右端点，$O(|\Sigma|n^4)$ 转移。</li></ul><h4 id="_50d" tabindex="-1"><a class="header-anchor" href="#_50d" aria-hidden="true">#</a> 50D</h4><ul><li>$r$ 的增大概率是单调不减的，可以二分答案。</li><li>$r$ 固定后，摧毁每一个建筑物的概率也固定了。设 $dp[i][j]$ 为第 $i$ 次选时选了 $j$ 个的概率，直接根据概率，一种到 $j+1$，一种到 $j$。</li><li>最后和大小关系比较一下即可。</li></ul><h4 id="_111d" tabindex="-1"><a class="header-anchor" href="#_111d" aria-hidden="true">#</a> 111D</h4><ul><li>从左往右移动线，那么左端是个不降的函数，右端是个不升的函数。</li><li>要求这两个函数相等，说明这两个函数每个位置的值都相等。</li><li>也就是第一列和最后一列不同数字个数相同，此外每一列的数都得是第一列和最后一列数的子集。</li><li>所以中间方案数只和两边集合交集大小有关。枚举两边集合大小，再枚举两边相同的数字个数，组合数计算一下，需要提前预处理 $i$ 种数填 $n$ 个位置的方案数，这个容易 $dp$，枚举数字种类数，再扣除种类数不到的方案。</li></ul><h4 id="_903f" tabindex="-1"><a class="header-anchor" href="#_903f" aria-hidden="true">#</a> 903F</h4><ul><li>$dp(i,sta)$，$sta$ 表示第 $i,i+1,i+2$ 列的状态，存最小代价。</li><li>看在哪一行放个 $x\times x$ 的正方形，转移到对应状态。注意放 $4\times 4$ 的可以直接转移到 $i+1$ 列全 $0$。</li></ul><h4 id="_802k" tabindex="-1"><a class="header-anchor" href="#_802k" aria-hidden="true">#</a> 802K</h4><ul><li>和之前类似，你进入一个子树，一定是能访问多少就访问多少，不可能出去一次再进来，这样只会多浪费父亲和自己的经过次数。</li><li>记录一个要返回的，记录一个不要返回的。要返回的可以走 $k-1$ 个儿子都要返回，不要返回的可以多走一个不要返回的儿子。</li><li>不要返回的，选要返回的值尽量大的 $k-1$ 个儿子。</li><li>要返回的，在此基础上，返回的变成不返回的贡献是：它不返回-它返回+第 $k$ 大的返回。本身不返回的贡献是：不返回的贡献。取最大的加上即可。</li><li>注意特判儿子数量不足 $k$ 个。</li></ul><h4 id="_76f" tabindex="-1"><a class="header-anchor" href="#_76f" aria-hidden="true">#</a> 76F</h4><ul><li><strong>可以发现只和相邻的事件的有关。</strong></li><li>那么相邻的事件 $(x,p),(y,q),p\leq q$，满足条件当且仅当 $|x-y|\leq (q-p)V$。</li><li>把绝对值拆了，变成 $x-y\leq (q-p)V,y-x\leq (q-p)V$，移项得 $x+pV\leq y+qV, -(x-pV)\leq -(y-qV)$。</li><li>两个式子加起来就得到了 $pV\leq qV$，所以不需要考虑 $p\leq q$ 的条件，直接 LIS 即可。</li></ul><h4 id="_71e" tabindex="-1"><a class="header-anchor" href="#_71e" aria-hidden="true">#</a> 71E</h4><ul><li>预处理每个子集和。</li><li>每次枚举子集，把子集给当前数。</li><li>因为总和固定，这个是 $O(3^n)$ 的（非 $O(n3^n)$）。</li></ul><h4 id="_39c" tabindex="-1"><a class="header-anchor" href="#_39c" aria-hidden="true">#</a> 39C</h4><ul><li>圆在同一直线上，所以可以把它看作若干区间。</li><li>设 $f(l,r)$ 表示 $l..r$ 区间能选多少。</li><li>转移一种是选左端点的区间，一种不选，直接跳过当前左端点。</li><li>注意选了左端点区间后只能在右端点后或左端点的区间内。</li></ul><h4 id="_254e" tabindex="-1"><a class="header-anchor" href="#_254e" aria-hidden="true">#</a> 254E</h4><ul><li>$dp[i][j]$ 表示前 $i$ 天，昨天剩下 $j$ 个食物能得到的最大 rating。</li><li>保证自己的，然后尽量满足需求小的朋友。</li></ul><h4 id="_268d" tabindex="-1"><a class="header-anchor" href="#_268d" aria-hidden="true">#</a> 268D</h4><ul><li>记录 $dp[h][a][b][c][d]$ 为当前高度 $h$，四个杆子在它上面离它最近的距离分别为 $a,b,c,d$。</li><li>当 $\geq h$ 的时候赋成 $-1$。</li><li>直接做状态太多，但是你发现一定有一维只有 $0/-1$，就可以直接暴力了。</li></ul><h4 id="_309b" tabindex="-1"><a class="header-anchor" href="#_309b" aria-hidden="true">#</a> 309B</h4><ul><li>求出每个单词为开头，第一个不能放在同一行的单词的位置。这个可以用双指针。</li><li>那么可以跳 $r$ 次得到结果，因为形成了一棵树的形式，所以可以维护到根路径上点的栈，直接求出 $r$ 级祖先。</li></ul><h4 id="_316d1" tabindex="-1"><a class="header-anchor" href="#_316d1" aria-hidden="true">#</a> 316D1</h4><ul><li>你考虑变成的若干个排列环，你要在上面交换。</li><li>当环长 $&gt;2$时，交换相邻的只能是 $1\rightarrow 2$ 换或者 $2\rightarrow 2$ 换，不相邻的只能是 $2,2$ 换。而当环长 $=2$ 时都合法。</li><li>由于环长 $=2$ 时才能两个都是 $1$，不妨猜测无论什么时刻都只能有最多两个 $1$。</li><li>你发现无论怎样换都满足这个条件，但是还得证明满足这个条件就行，这个容易，每次交换相邻 $1\rightarrow 2$ 即可。</li><li>那么可以对 $1$ dp，$2$ 随便插入即可。$1$ 的话就是考虑最后一个，要么单独成环，要么和前面某个成环，转移。</li><li>每个 $2$ 可以插在之前任意数后面。</li></ul><h4 id="_440d" tabindex="-1"><a class="header-anchor" href="#_440d" aria-hidden="true">#</a> 440D</h4><ul><li>容易想到树形 dp，每个子树选一些连上来，再记录是否出现过大小为 $k$ 的，这样比较麻烦。再想一想。</li><li>由于没有出现过大小为 $k$ 的条件的话直接所有放一个连通块即可，但是它有这个要求所以你选出某个大小为 $k$ 的之后，剩下的连通的一定放一个连通块（否则只会增加连通块间的边）。</li><li>现在就把划分连通块变成求一个大小为 $k$ 的连通块向外的边的数量的最小值，这个也可以树形 dp，而某个儿子不连边要把权值 +1，非根节点为根的连通块还要加上和父亲的边。</li></ul><h4 id="_873e" tabindex="-1"><a class="header-anchor" href="#_873e" aria-hidden="true">#</a> 873E</h4><ul><li>数据范围不大，考虑暴力再优化。</li><li>先把 $a$ 从大到小排序，那么就是把 $a$ 分成若干段区间，分别填 $1,2,3,-1$。枚举分界点，这样是 $O(n^3)$ 的。</li><li>通过 $cnt_x\leq cnt_y\times 2$ 的条件，可以算出 $3,-1$ 分界点可行的范围，在里面找 $d_3-c_{-1}$ 的最小值。你可以先枚举 $2,3$ 的分界点，预处理前缀的最小值，以快速计算。</li><li>时间复杂度 $O(n^2)$。</li></ul><h4 id="_316d2-同d1" tabindex="-1"><a class="header-anchor" href="#_316d2-同d1" aria-hidden="true">#</a> 316D2（*，同D1）</h4><ul><li>你考虑变成的若干个排列环，你要在上面交换。</li><li>当环长 $&gt;2$时，交换相邻的只能是 $1\rightarrow 2$ 换或者 $2\rightarrow 2$ 换，不相邻的只能是 $2,2$ 换。而当环长 $=2$ 时都合法。</li><li>由于环长 $=2$ 时才能两个都是 $1$，不妨猜测无论什么时刻都只能有最多两个 $1$。</li><li>你发现无论怎样换都满足这个条件，但是还得证明满足这个条件就行，这个容易，每次交换相邻 $1\rightarrow 2$ 即可。</li><li>那么可以对 $1$ dp，$2$ 随便插入即可。$1$ 的话就是考虑最后一个，要么单独成环，要么和前面某个成环，转移。</li><li>每个 $2$ 可以插在之前任意数后面。</li></ul><h4 id="_518f" tabindex="-1"><a class="header-anchor" href="#_518f" aria-hidden="true">#</a> 518F</h4><ul><li>如果不折，那么是横着一条（起终点在左右边界，且不能在角落）或竖着一条（起终点在上下边界，且不能在角落）。</li><li>如果折一次，枚举转折点（不在边界上），再枚举起点终点在哪两个方向。</li><li>如果折两次，以起终点都在左右边界为例，枚举第二个折点：一段是先往上再往左/右，计算方案；另一段是直接往左/右。</li><li>写起来可能比较复杂。</li></ul><h4 id="_838e" tabindex="-1"><a class="header-anchor" href="#_838e" aria-hidden="true">#</a> 838E</h4><ul><li>设现在 $l,l+1,\cdots,r$ 的点已经通过一条路径连通了，且一端为 $l$ 另一端为 $r$ 的最长的路径长度。</li><li>那么就考虑 $l$ 的连边，如果 $l$ 连的不是 $l$ 或 $r$ 的下一个点，那么就会分出两部分，之间只能经过一边，显然不合法；如果 $l$ 不连，$r$ 也同理不能连不是 $l$ 或 $r$ 的下一个点，当不是所有点都经过时，$l,r$ 必须至少有一个点连边。</li><li>所以直接 dp，枚举当前 $l$ 往外连还是 $r$ 往外连，转移即可。在最外面枚举 $l..r$ 间的点数。</li></ul><h4 id="_45b" tabindex="-1"><a class="header-anchor" href="#_45b" aria-hidden="true">#</a> 45B</h4><ul><li>每个点向下一个点连边，形成若干个基环树。</li><li>每个点开始的时候指向自己，如果一个指向自己的点能在步数内走到，就把它指向它父亲，继续。</li><li>这样暴力复杂度太高，考虑用并查集维护，同时要维护到并查集根的步数。</li><li>不过要注意如果把整个环都走到了，需要标记一下，以后就不考虑环上的点和到环上了。</li></ul><h4 id="_1488e" tabindex="-1"><a class="header-anchor" href="#_1488e" aria-hidden="true">#</a> 1488E</h4><ul><li>对于偶回文串，你选的那些数字的 $(l,r)$ 必须是一个包含另一个的关系，即 $l_1&lt;l_2&lt;l_3&lt;\cdots&lt;l_k,r_k&lt;\cdots&lt;r_3&lt;r_2&lt;r_1$。</li><li>不妨再加入所有 $(x,x)$，就只需要满足上面的条件即可，按照 $(l,r)$ 二元组从小到大排序，然后LIS即可。</li></ul><h4 id="_774i" tabindex="-1"><a class="header-anchor" href="#_774i" aria-hidden="true">#</a> 774I</h4><ul><li>每次找到一个字符串，使得和 $s$ 当前没匹配的位置开始匹配的位数尽量多。</li><li>更新匹配到的位置，答案+1，直到 $s$ 匹配完。</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/rockbenben/LearnData/edit/main/_posts/dp.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/8/27 07:01:51</span></div><!----></footer><nav class="page-nav"><a href="/_posts/data_structures.html" class="nav-link prev" aria-label="data_structures"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->data_structures</div></a><a href="/_posts/IOI2022.html" class="nav-link next" aria-label="IOI2022 部分题解"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">IOI2022 部分题解<!----></div></a></nav><div class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline" pageview="true"><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="nick">昵称</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="mail">邮箱</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="link">网址</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="请留言。(填写邮箱可在被回复时收到邮件提醒)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>预览:</h4><!-- eslint-disable-next-line vue/no-v-html --><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noreferrer"><svg width="16" height="16" ariahidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button class="wl-action" title="表情" style="display:none;"><svg viewbox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button class="wl-action" title="表情包"><svg width="24" height="24" fill="currentcolor" viewbox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="上传图片"><svg viewbox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button class="wl-action" title="预览"><svg viewbox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if-->  字</div><button class="wl-btn">登录</button><button class="wl-btn primary" title="Cmd|Ctrl + Enter"><!--[-->提交<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="搜索表情包"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewbox="0 0 100 100" preserveaspectratio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokewidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributename="transform" type="rotate" repeatcount="indefinite" dur="1s" values="0 50 50;360 50 50" keytimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-count"><!--v-if--> 评论</div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewbox="0 0 100 100" preserveaspectratio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokewidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributename="transform" type="rotate" repeatcount="indefinite" dur="1s" values="0 50 50;360 50 50" keytimes="0;1"></animateTransform></circle></svg></div><!--]--><!-- Copyright Information --><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noreferrer"> Waline </a> v2.6.3</div></div></div><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.e99e8fad.js" defer></script>
  </body>
</html>
