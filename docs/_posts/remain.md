---
title: 'remain'
date: 2022-01-24 20:13:02
tags: []
categories: [CodeForces2100-2300]
mathjax: true
---

#### 1372D
- 如果你把一个已经是多个数合并的数为中心再做，那么你拆开中间的合并（不做那一步），然后做一下拆开的左边和右边，发现次数相同，但总和变大。
- 你一定不会再选择合并过的数，但是你要合并成一个，所以第一次合并完，之后一定得选择合并和它相邻的，以此类推。最后一定是隔一个选一个，选 $(n+1)/2$ 个数。
- 答案比较容易算，也就是选相邻两个，然后两边隔一选一。破环为链即可。


#### 1621D
- 显然目标的格子都得占。
- 你发现如果把不是同一行的学生并到了同一行，那么再也不能分开了。
- 所以第一步只能往外移动，如果不是边界行列，那么它必须整行/整列往外移出来再移下去。
- 发现这一定不如边界往外移一格（恰好占了一格原先没占的），然后把出来的那格移动到对应位置，再重复操作。
- 只需要考虑移到 $(1,2n),(2n,1),(1,n+1),(n+1,1),(n,n+1),(n+1,n),(n,2n),(2n,n)$（也就是一步能移到的）。取最小值即可。


#### 598C
- 不同象限直接分象限讨论，同一象限直接atan即可。
- 然后看相邻两个的度数之差。


#### 505D
- 考虑把要把条件连成边，那么在同一个弱连通块的本身就必须弱连通（传递性），所以其中至少花 $n-1$ 条边。。
- 如果弱连通块存在拓扑序，可以按照拓扑序从前往后连边；否则说明弱连通块里有环，则必须要多花 $1$ 条边才能连接起来（你可以直接连成一个环，那么两两可达）。


#### 414C
- 不同段之间的逆序对相互没有关系，反转的内部才会有关系。
- 考虑建一个类似线段树的东西，那么每次是给某一层往下都反转。
- 层数很少，不同层也没有关系，记录一下整层反转后的权值和不反转的权值，每次读入时给下面的所有层都暴力反一下（$O(n)$）即可。


#### 1399E2
- 你可以算出每条边 $/2$ 后会影响多少边，从而算出它操作后减少的贡献。
- 显然 $c_i=1$ 和 $c_i=2$ 的是互不影响的，知道了 $c_i=2$ 的操作了多少次以及它减少的贡献，就能知道最少的 $c_i=1$ 的操作次数，进一步算出总花费。
- $c_i=2$ 和 $c_i=1$ 分别操作若干次减少的贡献都可以用优先队列维护，每次取出贡献最大的，更新答案，然后再修改 $w$，重新计算贡献加入优先队列。
- 最后双指针，从小到大枚举一个，另一个一定越来越少。


#### 1266E
- 设有 $cnt_i$ 个成就获得额外的资源是 $i$。
- 那么存在下界为 $\sum max(a_i-cnt_i,0)$，只做必要的，认为剩下的都能满足。
- 可以证明这就是答案，因为你可以开始就在每一堆取恰好 $max(a_i-cnt_i,0)$，那么此时一定有条件被满足（因为是 $<a_i$ 且两两不同，应该有没满的个数个），（除非一个满了）每一步都一定新增其它条件满足（也不一定是新增，就是认为之前的奖励还有剩余拿一个出来，）。


#### 510E
- 由于 $a_i\geq 2$，所以和一定是奇质数，说明两个数必须一奇一偶。
- 奇数和偶数才能放在一起，把能放在一起的连边，一定是二分图，所以环一定是偶环。
- 每个点在环上一定有两个不同的相邻点，且每个点满足此条件形成的图都合法。
- 建图，每个能相邻的点对左向右连单向边，左边点入度为 2，右边点出度为 2，跑网络流即可。


#### 340B
- 我发现四个点的经常是要么枚举中间两个（链），要么枚举不相邻的两个（环）。
- 这题就枚举不相邻的两个（类似对角线？），然后在两边各选一个点使得两个三角形的面积都尽量大。两个是独立的，分别枚举即可。


#### 1628C
- 这个题啊。。。其实有一个直觉，就是第一行无论填什么都是可以的（这个其实是对的）。
- 很容易想到一种方法，就是只要上面的没填，我就点一下当前的（这个其实也是对的）。
- 还有一种方法是，考虑经典方法，黑白染色。黑色的值表示一些白色点的异或和，白色的值表示一些黑色点的异或和。黑白染色在图上就是一些斜着向上的段。
- 你发现同色的一整段的异或和是相邻两段不同色的，你可以解出每一段的异或和，再异或起来就是全部异或和了。


#### 166B
- 求出 $A$ 的凸包和 $AB$ 的凸包，如果不一样一定无解。
- 注意由于不能有交，所以可以把凸包边界上的点也加入凸包。


#### 1185F
- 表示成二进制状态，要求一个人对应的状态包含于两个披萨状态的或。
- 然后，把人求子集和（FWT），求出两个披萨的或固定时有多少人。
- 披萨本质不同的状态只有 $2^9$ 个，每种状态取支出的最小值。
- 枚举两种披萨，求出它们的或、它们的总支出，看或的子集的人数即可。


#### 1178F1
- 由于你每次只能染某个同色段内的，所以你每次染完之后不同颜色段就独立了，可以分成若干子问题。
- 这个F1初始是一个排列，所以对于每种颜色，只在段内有这种颜色的才计算方案。
- 记 $dp(l,r)$ 表示区间 $[l,r]$ 的方案数，那么下一个要填的颜色就是区间内的最小值，枚举包含这个最小值的区间 $[x,y]$，分成四部分，$dp(l,x-1)\times dp(x,p-1)\times dp(p+1,y)\times dp(y+1,r)$。
- 直接这么做是 $O(n^4)$ 的，不过 $x,y$ 的贡献无关，分别计算贡献相乘即可。


#### 1628D1
- 这个题太哈人。
- 设 $solve(a,b)$ 表示还有 $a$ 轮，Bob 还可以减 $b$ 次。
- 对于 alice，如果选择了 $x$，Bob 一定会选 $solve(a-1,b-1)-x$ 和 $solve(a-1,b)+x$ 的最大值（$b=0$ 时不能 $b-1$，所以 $solve(a,b)=solve(a-1,b)+1$）。Alice 会让两个数尽量接近。
- 直接 dp 就能过 D1。

- 来做 D2。
- 这个有个 $x$ 需要讨论一下，不过可以打个表看一下，发现 $solve(a,b-1)-solve(a,b)\leq 2$，那么两个数可以相同，也就是 $solve(a,b)=\frac{solve(a-1,b-1)+solve(a-1,b)}2$，至于证明也很简单，可以对 $a$ 归纳，如果上一层满足条件，这一层一定也满足条件。
- 这个形式很像组合数，给 $solve(a,b)$ 乘上 $2^a$，那么转移式子就完全是组合数了，只不过初值不一样。这个问题不大，这其实就是每一步可以往上或往左，走到第 0 列的方案数。对每个初值乘上组合数的系数贡献过来即可。


#### 993C
- 可以枚举两架敌方的飞机，它们互相击落要我方飞机在什么位置。
- 枚举两个能使得地方飞机击落的位置，看它们击落了多少地方飞机（可以直接用bitset异或）。
- 时间复杂度 $O(n^5/w)$。


#### 821E
- 如果没有线段的限制那么就可以 $dp[i][j]=dp[i-1][j-1]+dp[i-1][j]+dp[i-1][j+1]$。
- 纵坐标很小，限制相同的一段边界是一样的，可以一起转移。用矩阵优化一段的转移即可。


#### 585D
- 每个任务选两个人有三种方案。
- 直接暴力是 $O(3^n)$ 的，复杂度太高。

- 这个范围可以折半搜索，那么由于最后的值是一样的，就枚举一边，另一边使得两边和的三个值一样且尽量大。
- 先把两边的搜出来，求出两两之差，那么两边两两之差恰好都相反，枚举一边，求另一边相反的值最大是多少即可。


#### 1510G
- 建树，如果有一条往下的长度为 $k$ 的链，那么直接走就可以了。
- 但是路径上可以往其它方向走下去再走上来，无论怎样都会走两遍，直接算一下就行了。


#### 286B
- 理论上如果你能快速维护数组把一个数移动到某个位置的操作，那么就可以暴力调和级数 $O(n\log n)$。
- 怎么快速维护？如果你要求每次操作后每个数字往右移动一格（把第一格空出来），那么每一块只有一个位置动了，且要动的位置是前一个移到后一个，这样容易快速维护。
- 直接模拟即可。


#### 1623D
- 这个明显有循环节（本质不同的状态只有 $4nm$，即当前所在的点和方向），暴力求出循环节和循环节内覆盖关键点的可能时间（最多 $4$ 个）。
- 容易发现，要么是这一轮每一次都没扫掉之后还得扫，要么就是扫掉了。
- 就设答案是 $ans$，$ans=t_1+(1-p)(t_2-t_1+(1-p)(t_3-t_2+(1-p)(t_4-t_3+(1-p)(t-t_4+ans))))$。
- 求出右边 $ans$ 的系数，解一下即可。


#### 444B
- 由于数据随机，如果 $d$ 比较小，可以暴力枚举所有 $b$ 产生的贡献。
- 如果 $d$ 比较大，可以暴力枚举一些最大的 $a$，然后计算一下它们的贡献，由于 $d$ 很大且数据随机，所以大概率覆盖了所有位置。


#### 863F
- 这个范围小的离谱，求出每个数能取的值的范围。
- 这个 $cnt(i)^2$ 的最小值，网络流的经典套路就是拆边，拆成 $1+3+5+7+\cdots$（差分建图）。
- 把每个值对应点拆成两个点，中间就连权值为 $1,3,5,7,\cdots$，每个数向能取的对应的值连边。


#### 123D
- SAM 模板。
- 求出 link 树上包含的子树大小和就可以知道出现次数了。


#### 802I
- 还是 SAM 模板。
- 求出 link 树上包含的子树大小和就可以知道出现次数了。


#### 362D
- 每次要么减少一个连通块，要么不变，不变花的代价是固定的。
- 类似哈夫曼树一样贪心，每次一定选两个最小的合并。


#### 630P
- 将圆心向角连边（圆周上的角和向离凹的角）。
- 求出一个小三角形的面积后乘上 $2n$ 即可。
- 根据三个角度和长边的长度可以正弦定理求出其它边长进而求出面积。


#### 457C
- 枚举一个 $x$，表示你的票数 $=x$，其它人的票数 $<x$ 需要的代价。
- 那么代价的计算方法就是先在每个里买里面最小的使得人数都 $<x$，如果自己票数还不够就接着买全局最小的。
- 考虑 $x$ 增加的时候，那么有些本身由于人数过多而买来的可能不需要买，如果有这样的那么你这次少买了，再买一个全局最小的一定不比原来的大，故答案不增；否则没有这样的人，每次要新买一个最小的，答案不减。
- 所以可以三分。


#### 575G
- 到终点距离为 0 的先求出来，以它们为起点，跑 bfs（首先要求层数最小，层数）。
- 现在就变成求字典序最小的了，倒过来，给同层的点维护一个相对大小的值（看上一层的相对大小和新加的数），每次新加的越小越好，相同的还是赋成相同。


#### 656D
- 每次 $\bmod 8$，看余数是不是 $1$，然后再 $/8$。


#### 387D
- 枚举中心，那么所有点都得有和中心的双向边。
- 剩下的要求出入度为 $1$，拆点后二分图匹配即可。


#### 311E
- 经典最小割建图，选 $0$ 和左边连通，选 $1$ 和右边连通。
- 对于限制，就是新建一个点，和某一边连，再和需要的点连。
- 初始认为所有利润都能取到，然后减去最小割即可。


#### 730E
- 这题非常强大。由于你滚榜的时候如果排名变了，那么变化量就是那些它当前排名和你排名相对顺序变了。
- 如果最终相对顺序会变那么一定贡献 $1$，否则有可能过程中相对顺序变了，看两个分数的区间是否有交，有交就有贡献 $2$，否则没有贡献。


#### 106E
- 显然三个维度都是单峰函数（另外两维没啥关系，你直接给距离三次方，然后另外两维和它没关系）。
- 都三分即可。


#### 47D
- 搜索，每次看和每个密码不同的位数，如果 $>num[i]$ 就不行。
- 按照这个条件剪枝，最后判断是否相等即可。


#### 690A2
- 先看 $n=4$，此时 $2$ 为了活命一定会赞成 $1$，那么就可以不多花金币。
- 而 $n=5$ 时那么 $2$ 就会反水，因为 $n=4$ 就都能活，所以一定得拉拢一半的。
- $n=6$，由于 $n=5$ 一定会没金币，所以会支持 1 号，1 号再给别的。
- 可以发现如果等于 $2^k$ 的时候可以不花费活下来，等于 $2^k+2$ 的时候可以花费 $1$ 活下来，以此类推，等于 $2^k+2x$ 可以花费 $x$ 活下来。而如果是奇数，必须拉拢剩下的恰好一半。


#### 883A
- 对于每个到来的顾客，看中间过程中开门的员工。
- 记录上一次知道的开门的时间，就可以求出这个顾客到来前最后一次开门的时间，判断一下顾客要不要自己开门。
- 方便起见可以加一个 $na$ 时间到来的顾客防止员工没算完。


#### 316C2
- 二分图，还是经典操作，先二分染色，那么两双同色的鞋子最后放在相邻的位置上。
- 两只鞋一定是一只移动到另一只旁边，否则可以调整。把填同一种的变成两个点连同一条边匹配。
- 搞个带权匹配，边权是两个颜色是否相同。网络流即可。


#### 60C
- 相连的点可以看做一个联通分量，要求每一个联通分量都合法。
- 当某一个点权值确定了，由于给定 gcd 和 lcm，根据 $ab=gcd\times lcm$，因此整个联通分量就确定了。
- 因此我们可以以某一点为该联通分量的起点，枚举该点可以取得的值，dfs 即可。


#### 11C
- 大力搜索，先搜出四个方向的边长，再判断一下 1 的个数确认没有多余的边（也就是要和正方形框架上的数量相等）。


#### 316C1（*，同C2）
- 二分图，还是经典操作，先二分染色，那么两双同色的鞋子最后放在相邻的位置上。
- 两只鞋一定是一只移动到另一只旁边，否则可以调整。把填同一种的变成两个点连同一条边匹配。
- 搞个带权匹配，边权是两个颜色是否相同。网络流即可。


#### 71D
- 枚举两张牌替换，处理出每个为左上顶点的矩形是否可以。
- 然后再枚举两个左上顶点看行不行。


#### 183C
- 对于同一个起点到终点有多条不同路径，那么得要求 $\bmod $ 每条路径后的值都相同，也就是 $k$ 要是它们差的约数。
- 特别的一个环就是要求是它的约数。


#### 243C
- 只有一千条线段，所以可以离散化（注意这里是左闭右开区间）。
- 然后就可以直接暴力覆盖了，时间复杂度 $O(n^2)$。


#### 215C
- 这个条件看上去就是两个矩形取个并集。
- 枚举一个矩形（注意边长一定是奇数），如果总面积就是这个矩形，那么另一个举行被它包含就行了（注意中心点还得是同一个，边长是奇数）；否则要有多出来的，枚举多出来的长就可以计算出宽（注意上下是两部分，所以面积一定是偶数）。


#### 215E
- 先求出有某个循环节的数字个数，这个数位dp好求，如果不压上界且位数到了那么方案就为 $1$。
- 然后再容斥，把循环节是约数的去掉。


#### 690D3
- 直接 dp，这空间可能比较大，不过可以用 queue（或类似循环队列？） 来存储（因为只会从 $-w$ 转移，而 $w$ 很小）。
- 转移需要预处理一下 $h$ 的幂。


#### 409G
- 愚人节赛题，直接模拟。


#### 316G2
- 把原串和询问串都拿来一起做广义后缀自动机。
- 然后对于每个串根据原串的出现次数和限制判断一下即可。


#### 1505I
- 特殊语言题，直接输出。


#### 54D
- 先把必须匹配的位置暴力填了。
- 剩下的位置爆搜看是否有解。


#### 51D
- 经典删一个，那么前 3 个数一定有两个没被删。
- 看一下，序列就确定了（两项就能确定公比），如果前 3 个有被删的那么要求后面的完全一样，否则可以有一项少了。
- 每次找下一个相同的，看是否满足要求即可。


#### 43E
- 先枚举两辆车，考虑它们的超车次数。
- 考虑两辆车一段速度不变的时间段，两辆车最多变前后顺序一次，计算一下即可。


#### 213D
- 假设前 5 个顶点之间的距离为 $len$。
- 计算出前 4 个顶点的位置后，其他顶点的位置可以通过在前 4 颗星的 $x$ 坐标上加上 $k*len$ 计算。
- 然后通过横的边一条一条走到最后，再把这个五角星填满，回到上一个继续填。


#### 491C
- 其实是个匹配问题，每一种匹配都有对应权值，求二分图最大权匹配即可。


#### 212B
- 枚举子串，fix 左端点（要和前一个数不一样，不然会算重），然后再枚举右端点（要和后一个数不一样，不然会算重），给对应的二进制状态+1。
- 询问就看对应二进制状态的答案即可。


#### 68C
- 范围这么小，都可以暴力。
- 枚举最小燃料量，然后 dfs，注意如果当前流的量不为 0 还要加上激活的代价。
- dfs 就是从小到大，对每个点确认它往编号比它大的点的流量。


#### 774A
- 谁家长是谁并不重要，只需要知道家长的人数。
- 枚举分了几组，那么每一组都要有个 $c_1$ 的代价和一个家长，那么剩下的要求人数尽量平均分即可。


#### 77D
- 因为 $1*2$ 和左边块所处列不相邻，所以 $1*2$ 两列与其他列完全分离。
- 以 $dp[j]$ 表示前 $j$ 列划分的方案数，如果能用 $2*1$ 的填满整列就从 $dp[j-1]$ 转移。
- 再考虑这两列出现 $1*2$ 块的方案数，再计算一下两列的贡献即可。


#### 241F
- 要根据 $s$ 的要求一个一个经过。
- 那么就从起始点开始，只要没到要求点，就花当前点的时间往那个点方向走。
- 如果时间用完了就结束，停留在当前点，输出。


#### 1046I
- 一秒内，距离只会有三种情况：变小；变大；先变小后变大。
- 判断是哪种情况可以看开头和结尾的变化率是正是负。
- 分类讨论一下，二分即可。


#### 1346G
- 题目写的比较哈人，简单来说就是分成两个序列使得它们分别 $\mod$ 某个 $p_i$ 同余（两两之差 $\bmod p_i=0$）。
- 根据经典结论，前三个数一定有两个是同一个序列的。
- 根据经典结论，约数个数很少，直接枚举然后暴力判剩下的有多少个可以在这个序列，剩下的把两两之差求个 $\gcd$ 看是否有 $p_j$ 满足即可。


#### 926H
- 一定买橙红/橙白。
- 就是把两个最大的买了，剩下的从大到小买。


#### 774E
- 这什么憨憨题。。。倍长后就变成了滑动窗口，求第一个不为 $0$ 的 $\bmod m$ 的最小值。
- 枚举左端点从左往右，每次更新当前 $\bmod m$ 的值即可。


#### 661G
- 特殊语言题，先给第一行字符串的第一个位置改成大写。
- 如果第二行的是整数在第一行字符串前加 $i$ 否则加 $f$，然后输出。


#### 661D
- 特殊语言题，直接模拟。


#### 530H
- 特殊语言题，范围很小，直接枚举一维就行。

#### 530G
- 特殊语言题，类似于求编辑距离的 dp，改一下转移权值即可。


#### 530F
- 特殊语言题，范围很小，直接枚举青蛙能跳的距离，bfs 即可。


#### 470H
- 特殊语言题，排序即可。


#### 470G
- 特殊语言题，求一下汉明距离。


#### 470F
- 特殊语言题，模拟即可。


#### 345D
- 特殊语言题，求出哪些会收到信（bfs），看其中有多少个和 $n$ 号会发消息即可。


#### 345B
- 特殊语言题，直接枚举不超过 $n$ 的底数暴力模拟即可。
- 注意底数 $>n$ 的表示方法就是原数，如果可以答案就是 -1。


#### 316F2（*，同F3）
- 这题好离谱啊。
- 先进行“收缩”，即如果一个点的周围有黑色就将它变成黑的，重复若干次。
- 然后再“展开”，即一个点周围有白色的就把它变成白的，重复若干次。
- 用原图减去这张图，得到那些光线。dfs一下即可。


#### 316F1（*，同F3）
- 这题好离谱啊。
- 先进行“收缩”，即如果一个点的周围有黑色就将它变成黑的，重复若干次。
- 然后再“展开”，即一个点周围有白色的就把它变成白的，重复若干次。
- 用原图减去这张图，得到那些光线。dfs一下即可。


#### 207D10
- 长度 $\leq 50000$ 输出3，$\geq 54000$ 输出1，否则输出2。


#### 207D8
- 长度前两位（即 $/1000$）是偶数输出1，否则输出2。


#### 207D6
- 长度前两位（即 $/1000$）是偶数输出3，否则输出1。


#### 207D4
- 输出1。


#### 203E
- 把那些一定不能自己走的记录一下数量和它们能带多少个。
- 特判只有一个就能带着所有的。贪心，你尽量会选那些能自己走的能带人的，因为你可以套娃，套进来的自己占一个位置，而多了自己能套的位置。