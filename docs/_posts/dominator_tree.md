## 支配树

### 支配

称节点 $x$ 支配节点 $u$，当且仅当从起始点到 $u$ 的每一条路径都必须经过 $x$。根据定义，每个节点都支配它自身。

称节点 $x$ 严格支配节点 $u$，当且 $x$ 支配 $u$ 且 $x$ 不等于 $u$。

方便起见，只考虑从起始点开始能到达的节点。显然严格支配关系一定不存在环。



称节点 $u$ 的直接支配节点为 $x$，当且仅当 $x$ 严格支配节点 $u$，却不严格支配任何严格支配节点 $u$ 的其它节点。

不是所有的节点都有直接支配节点，如起始点。但如果 $u$ 存在严格支配节点，则直接支配节点一定存在且唯一。

原因是对于任意两个均严格支配节点 $u$ 的不等节点 $x,y$，一定存在 $x$ 支配 $y$ 或 $y$ 支配 $x$，而严格支配关系不存在环，故直接支配节点一定存在且唯一（拟序？全序？）。



对每个不是起始点的 $x$，将 $x$ 的直接支配节点连向 $x$，将会形成一棵树，树根即为起始点。



### DAG

DAG 比较好办，可以直接按照拓扑序，$x$ 严格支配 $u$ 当且仅当 $x$ 支配所有 $u$ 的入点，直接求所有入点在支配树上的 LCA 即为当前点的严格支配节点。

